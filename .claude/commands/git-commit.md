---
name: git-commit
description: Format, build, and commit code changes with a changelog summary, then push to remote
---

# Git Commit Workflow

This command automates the commit and push workflow with quality checks.

## Steps to Execute

1. **Check for changes**: Run `git status` and `git diff --stat` to see what files have changed.

2. **Format the code**: Run `npm run format` to ensure consistent code style.

3. **Build the code**: Run `npm run build` to verify the code compiles without errors.

4. **If build fails**: STOP and report the error. Do not proceed with commit.

5. **If build succeeds**:
   - Stage all changes: `git add -A`
   - Generate a commit message with:
     - A concise summary line (50 chars or less)
     - A blank line
     - A changelog section listing what was changed and why
   - Commit with the generated message

6. **Push to remote**: Run `git push` to push the changes to the remote repository.

## Commit Message Format

```
<type>: <short summary>

## Changelog

- <change 1>
- <change 2>
- ...

---
Generated by /git-commit
```

Types: feat, fix, refactor, style, docs, test, chore

## Important

- Always review the changes before committing
- Ensure the build passes before pushing
- Write meaningful changelog entries that explain WHY, not just WHAT
